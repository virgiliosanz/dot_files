#ifndef TAIL_H
#define TAIL_H

#include <QObject>
#include <QFileSystemWatcher>
#include <QString>

// Este comentario no est√° en el tag con el que probamos
// Hacer otro comentario
namespace log_watcher
{
  class Tail : public QObject
  {
    Q_OBJECT

  public:
    Tail(const QString& file, qint64 file_pos, QObject *parent = 0);
    virtual ~Tail() {}

  signals:
    void line_found(const QString& line);
    void tail_empty();
    void tail_failed(const QString& msg);

  private slots:
    void on_file_changed(const QString& file);

  protected:
    void save_stream_pos(qint64 pos);

  private:
    Tail(const Tail& hrs): QObject(0) {}

    QFileSystemWatcher _watcher;
    QString            _file_name;
    qint64             _file_stream_end;
  };
}
#endif // TAIL_H
